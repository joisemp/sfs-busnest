{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'styles/central_admin/registrations_list/style.css' %}">
{% endblock style %}

{% block sidebar %}
{% include 'central_admin/sidebar.html' %}
{% endblock sidebar %}

{% block content %}
<div class="d-flex justify-content-between  align-items-center mb-3">
    <!-- <div>
        <form class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-dark" type="submit">Search<i class="fa-solid fa-magnifying-glass ms-3"></i></button>
        </form>
    </div> -->
</div>
<div class="section-header">
    <div>
        <a href="#" class="btn btn-outline-dark btn-sm mb-3"><i class="fa-solid fa-arrow-left me-2"></i>Back</a>
     </div>
     <div class="gear d-flex justify-content-between">
       <div>
         <h2>Registration</h2>
       </div>
        <div class="button">
            <a href="{% url 'central_admin:registration_create' %}" class="btn btn-primary"><i class="fa-solid fa-plus me-2"></i>New registration</a>
        </div>
    </div>
    <hr>
</div>
<section id="registration-list">
    <div class="wrap">
        {% if registrations %}
        {% for registration in registrations %}
        <div class="card-wrap">
            <div class="card {% if registration.is_active %}border-success{% endif %}">
                <div class="mb-3">
                    <div class="mb-3">
                        <h5 class="card-title">{{registration.name}}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">
                            {% if registration.status %}
                            Open
                            {% else %}
                            Closed
                            {% endif %}
                            {% if registration.is_active %}
                            <span class="badge bg-success ms-2">Active</span>
                            {% endif %}
                        </h6>
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <div class="button-block d-flex">
                        <a href="{% url 'central_admin:registration_delete' registration_slug=registration.slug %}" class="btn text-danger btn-sm me-3">Delete<i class="fa-solid fa-trash ms-2"></i></a>
                        <a href="{% url 'central_admin:registration_detail' registration_slug=registration.slug %}" class="btn btn-sm btn-dark">View<i class="fa-solid fa-arrow-right ms-2"></i></a>
                    </div>
                </div> 
            </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="text-center w-100">
            <span class="text-muted">No registration created yet</span>
        </div>
        {% endif %}
    </div>
</section>
{% endblock content %}