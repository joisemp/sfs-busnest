{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'styles/central_admin/bus_record_list/style.css' %}">
{% endblock style %}

{% block sidebar %}
{% include 'central_admin/sidebar/registration_sidebar.html' %}
{% endblock sidebar %}

{% block content %}

<h3>Bus records for {{registration}}</h3>
<section id="bus_record">
    <div class="container">
        <!-- button -->
        <div class="back mt-3">
            <button class="btn btn-outline-secondary"><i class="fa-solid fa-angle-left me-2"></i>Go back</button>
            <a class="btn  btn-primary btn-sm" href="{% url 'central_admin:bus_record_create' registration_slug=registration.slug %}"><i class="fa-solid fa-plus me-2"></i>Add bus record</a>
        </div>
        <!-- alert message -->
        <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
            <symbol id="exclamation-triangle-fill" viewBox="0 0 16 16">
                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </symbol>
        </svg>
        <div class="alert alert-warning d-flex align-items-center mt-3" role="alert" style="height: 44px">
            <svg class="bi flex-shrink-0 me-2" role="img" aria-label="Warning:" style="height:25px;width:20px"><use xlink:href="#exclamation-triangle-fill"/></svg>
            <div>
              An example warning alert with an icon
            </div>
        </div>
         <!-- table -->
    <table class="table">
        <thead>
          <tr>
            <th class="text-body-secondary">Label</th>
            <th class="text-body-secondary">Registration no</th>
            <th class="text-body-secondary">Route</th>
            <th class="text-body-secondary">Schedule</th>
            <th class="text-body-secondary">Capacity</th>
            <th class="text-body-secondary">Pick up</th>
            <th class="text-body-secondary">Drop count</th>
            <th class="text-body-secondary">Seats progress</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Bus 1</td>
            <td>KA32H9302</td>
            <td>Route 1</td>
            <td>Morning-evening</td>
            <td>80</td>
            <td>50</td>
            <td>50</td>
            <td>
              <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar" style="width: 25%">25%</div>
              </div>
            </td>
          </tr>
          <tr>
            <td>Bus 1</td>
            <td>KA32H9302</td>
            <td>Route 1</td>
            <td>Morning-evening</td>
            <td>80</td>
            <td>50</td>
            <td>50</td>
            <td>
              <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar" style="width: 75%">75%</div>
              </div>
            </td>
          </tr>
          <tr>
            <td>Bus 1</td>
            <td>KA32H9302</td>
            <td>Route 1</td>
            <td>Morning-evening</td>
            <td>80</td>
            <td>50</td>
            <td>50</td>
            <td>
              <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar" style="width: 55%">55%</div>
              </div>
            </td>
          </tr>
        </tbody>
    </table>
    </div>
</section>

{% endblock content %}
<ul>
  {% for record in bus_records %}
  <li>{{record.label}} | Pickup : {{record.pickup_booking_count}} | Drop : {{record.drop_booking_count}} | Available : {{record.total_available_seats}} | Route : {{record.route}} | Filled : {{record.total_filled_seats_percentage}}% | {{record.schedule}} | {{record.bus}} - <a href="{% url 'central_admin:bus_record_update' registration_slug=registration.slug bus_record_slug=record.slug %}">Update</a></li>
  {% endfor %}
</ul>
